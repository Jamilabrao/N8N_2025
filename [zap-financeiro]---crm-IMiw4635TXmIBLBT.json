{"createdAt":"2025-04-10T19:07:54.137Z","updatedAt":"2025-04-10T19:58:41.927Z","id":"IMiw4635TXmIBLBT","name":"[ZAP FINANCEIRO] - CRM","active":false,"nodes":[{"parameters":{"documentId":{"__rl":true,"value":"1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI","mode":"list","cachedResultName":"AGENTE IA - GASTOS","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":1561429989,"mode":"list","cachedResultName":"DASHBOARD","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit#gid=1561429989"},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[1080,-840],"id":"fe3a995c-ad0c-4261-93c7-f9f44e0ed9c6","name":"Google Sheets","retryOnFail":true,"waitBetweenTries":2000,"credentials":{"googleSheetsOAuth2Api":{"id":"c1hmUtfYiP5FWVBk","name":"GOOGLE JAMIL"}}},{"parameters":{"aggregate":"aggregateAllItemData","options":{}},"type":"n8n-nodes-base.aggregate","typeVersion":1,"position":[1320,-840],"id":"79e8e078-8b0b-492a-94a7-c7bf5de5e28b","name":"Aggregate"},{"parameters":{"content":"## DASHBOARD GERAL\nEXIBE DADOS GERAIS DA OPERA칂츾O","height":340,"width":1320,"color":6},"type":"n8n-nodes-base.stickyNote","position":[820,-960],"typeVersion":1,"id":"dfa797c3-4244-4b2d-8f31-892e0928a2be","name":"Sticky Note7"},{"parameters":{"html":"<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Dashboard ZAP FINANCEIRO</title>\n  <script src=\"https://cdn.jsdelivr.net/npm/chart.js\"></script>\n  <style>\n    body {\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      font-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n      padding: 20px;\n    }\n\n    h1 {\n      text-align: center;\n      background-color: #00bcd4;\n      color: #000;\n      padding: 12px;\n      border-radius: 10px;\n      font-size: 24px;\n    }\n\n    h2 {\n      margin-top: 30px;\n      color: #00bcd4;\n      border-bottom: 2px solid #00bcd4;\n      padding-bottom: 5px;\n      font-size: 18px; /* Define o tamanho da fonte */\n    }\n\n    .container {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 15px;\n      justify-content: space-between;\n    }\n\n    .card {\n      background-color: #1e2a38;\n      padding: 15px;\n      flex: 1 0 22%;\n      border-radius: 12px;\n      border: 1px solid #00bcd4;\n      box-shadow: 0 2px 5px rgba(0,0,0,0.3);\n      transition: transform 0.2s ease;\n    }\n\n    .card:hover {\n      transform: scale(1.03);\n    }\n\n    .card h3 {\n      color: #a8dadc;\n      font-size: 14px;\n      margin: 0 0 5px 0;\n      font-weight: 500;\n    }\n\n    .card p {\n      font-size: 20px;\n      font-weight: bold;\n      color: #f1faee;\n      margin: 0;\n    }\n\n    .charts-row {\n      display: flex;\n      justify-content: center;\n      gap: 40px;\n      margin-top: 30px;\n      flex-wrap: wrap;\n    }\n\n    .chart-box {\n      background-color: #264653;\n      padding: 20px;\n      border-radius: 10px;\n      width: 320px;\n      height: 340px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n    }\n\n    canvas {\n      width: 300px !important;\n      height: 300px !important;\n    }\n  </style>\n</head>\n<body>\n  <h1>DASHBOARD ZAP FINANCEIRO - DATA {{ new Date().toLocaleDateString('pt-BR') }}</h1>\n\n  <h2>DADOS GERAIS</h2>\n  <div class=\"container\">\n    <div class=\"card\"><h3>N춿 ATIVOS</h3><p>{{ $json.data[0].ATIVOS }}</p></div>\n    <div class=\"card\"><h3>N춿 BLOQUEADOS</h3><p>{{ $json.data[0].BLOQUEADOS }}</p></div>\n    <div class=\"card\"><h3>N츾O ASSINANTES</h3><p>{{ $json.data[0]['N츾O ASSINANTES / TESTE'] }}</p></div>\n    <div class=\"card\"><h3>AGUARDANDO PAGAMENTO</h3><p>{{ $json.data[0]['AGUARDANDO PAGAMENTO'] }}</p></div>\n    <div class=\"card\"><h3>TOTAL</h3><p>{{ $json.data[0].TOTAL }}</p></div>\n    <div class=\"card\"><h3>ADMINISTRADORES</h3><p>{{ $json.data[0].ADM }}</p></div>\n  </div>\n\n  <h2>VENDAS PLATAFORMA</h2>\n  <div class=\"container\">\n    <div class=\"card\"><h3>PERFECTPAY</h3><p>{{ $json.data[0].PERFECTPAY }}</p></div>\n    <div class=\"card\"><h3>LASTLINK</h3><p>{{ $json.data[0].LASTLINK }}</p></div>    \n  </div>\n\n</body>\n</html>\n"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1540,-840],"id":"77ec7aa4-57ad-4928-9857-558f5391f8e0","name":"HTML1"},{"parameters":{"path":"dashzapfinanceiro","responseMode":"responseNode","options":{}},"id":"a0588dd8-39b7-4932-925e-df6cacc08e2a","name":"Serve Frontend","type":"n8n-nodes-base.webhook","typeVersion":1,"position":[860,-840],"webhookPath":"frontend","method":"GET","responseMode":"onReceived","responseData":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>An치lise de Conversas</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n    }\n    .container {\n      max-width: 400px;\n      width: 100%;\n      text-align: center;\n    }\n    textarea {\n      width: 100%;\n      height: 150px;\n      margin-bottom: 10px;\n    }\n    button {\n      background-color: #45DE71;\n      border: none;\n      padding: 10px 15px;\n      color: white;\n      cursor: pointer;\n      border-radius: 5px;\n    }\n    button:disabled {\n      background-color: #ccc;\n    }\n    #result {\n      margin-top: 20px;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>An치lise de Conversas</h1>\n    <textarea id=\"conversation\" placeholder=\"Cole a conversa aqui...\"></textarea>\n    <button id=\"analyzeButton\">Analisar Conversa</button>\n    <div id=\"result\"></div>\n  </div>\n\n  <script>\n    const analyzeButton = document.getElementById('analyzeButton');\n    const conversationInput = document.getElementById('conversation');\n    const resultDiv = document.getElementById('result');\n\n    analyzeButton.addEventListener('click', async () => {\n      const conversation = conversationInput.value.trim();\n      if (!conversation) {\n        alert('Por favor, insira uma conversa para an치lise.');\n        return;\n      }\n\n      analyzeButton.disabled = true;\n      resultDiv.textContent = 'Analisando...';\n\n      try {\n        const response = await fetch('/webhook/process', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ conversation }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Erro ao analisar a conversa.');\n        }\n\n        const result = await response.json();\n        resultDiv.textContent = `Resultado da An치lise:\\n\\n${result.analysis}`;\n      } catch (error) {\n        resultDiv.textContent = 'Erro: N칚o foi poss칤vel analisar a conversa.';\n      } finally {\n        analyzeButton.disabled = false;\n      }\n    });\n  </script>\n</body>\n</html>"},"responseHeaders":[{"name":"Content-Type","value":"text/html"}],"webhookId":"1a9ade75-d2f3-42ad-9898-31b68cb9b486"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.html }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1760,-840],"id":"7044e4c9-5c13-4594-92ef-87aee8179c23","name":"Respond to Webhook1"},{"parameters":{"html":"<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Painel Principal - ZAP FINANCEIRO</title>\n  <style>\n    * {\n      box-sizing: border-box;\n    }\n\n    body {\n      margin: 0;\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      display: flex;\n      height: 100vh;\n    }\n\n    .sidebar {\n      width: 250px;\n      background-color: #1e2a38;\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      border-right: 2px solid #00bcd4;\n    }\n\n    .sidebar h2 {\n      color: #00bcd4;\n      margin-bottom: 30px;\n      text-align: center;\n      font-size: 20px;\n    }\n\n    .menu a {\n      display: block;\n      padding: 12px 16px;\n      margin-bottom: 10px;\n      color: #f1f1f1;\n      text-decoration: none;\n      background-color: #2c3e50;\n      border-radius: 8px;\n      transition: background-color 0.2s ease;\n      cursor: pointer;\n    }\n\n    .menu a:hover {\n      background-color: #00bcd4;\n      color: #000;\n    }\n\n    .main {\n      flex: 1;\n      padding: 0;\n      overflow: hidden;\n    }\n\n    iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n    }\n\n    .placeholder {\n      color: #aaa;\n      padding: 30px;\n      text-align: center;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"sidebar\">\n    <h2>Zap Financeiro</h2>\n    <div class=\"menu\">\n      <a onclick=\"loadIframe('https://n8n.typebot.pro/webhook/dashzapfinanceiro')\">游늵 Dashboard</a>\n      <a onclick=\"loadIframe('https://n8n.typebot.pro/webhook/usuarioszapfinanceiro')\">游꿡 Usuarios</a>\n      <a onclick=\"loadIframe('https://n8n.typebot.pro/webhook/zapfinanceiroadm')\">游뱋 Administradores</a>      \n    </div>\n  </div>\n\n  <div class=\"main\" id=\"content\">\n    <div class=\"placeholder\">Carregando Dashboard...</div>\n  </div>\n\n  <script>\n    function loadIframe(url) {\n      const content = document.getElementById('content');\n      content.innerHTML = `<iframe src=\"${url}\"></iframe>`;\n    }\n\n    window.onload = function() {\n      loadIframe('https://n8n.typebot.pro/webhook/dashzapfinanceiro');\n    };\n  </script>\n</body>\n</html>\n"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1080,-1200],"id":"3b856328-44c0-4cc1-a353-5fea7e009c4b","name":"HTML"},{"parameters":{"path":"zapfinanceiro","responseMode":"responseNode","options":{}},"id":"91263449-7d92-47a3-8a32-15314a39739f","name":"Serve Frontend2","type":"n8n-nodes-base.webhook","typeVersion":1,"position":[860,-1200],"webhookPath":"frontend","method":"GET","responseMode":"onReceived","responseData":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>An치lise de Conversas</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n    }\n    .container {\n      max-width: 400px;\n      width: 100%;\n      text-align: center;\n    }\n    textarea {\n      width: 100%;\n      height: 150px;\n      margin-bottom: 10px;\n    }\n    button {\n      background-color: #45DE71;\n      border: none;\n      padding: 10px 15px;\n      color: white;\n      cursor: pointer;\n      border-radius: 5px;\n    }\n    button:disabled {\n      background-color: #ccc;\n    }\n    #result {\n      margin-top: 20px;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>An치lise de Conversas</h1>\n    <textarea id=\"conversation\" placeholder=\"Cole a conversa aqui...\"></textarea>\n    <button id=\"analyzeButton\">Analisar Conversa</button>\n    <div id=\"result\"></div>\n  </div>\n\n  <script>\n    const analyzeButton = document.getElementById('analyzeButton');\n    const conversationInput = document.getElementById('conversation');\n    const resultDiv = document.getElementById('result');\n\n    analyzeButton.addEventListener('click', async () => {\n      const conversation = conversationInput.value.trim();\n      if (!conversation) {\n        alert('Por favor, insira uma conversa para an치lise.');\n        return;\n      }\n\n      analyzeButton.disabled = true;\n      resultDiv.textContent = 'Analisando...';\n\n      try {\n        const response = await fetch('/webhook/process', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ conversation }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Erro ao analisar a conversa.');\n        }\n\n        const result = await response.json();\n        resultDiv.textContent = `Resultado da An치lise:\\n\\n${result.analysis}`;\n      } catch (error) {\n        resultDiv.textContent = 'Erro: N칚o foi poss칤vel analisar a conversa.';\n      } finally {\n        analyzeButton.disabled = false;\n      }\n    });\n  </script>\n</body>\n</html>"},"responseHeaders":[{"name":"Content-Type","value":"text/html"}],"webhookId":"38c3d65f-8c47-4460-a89e-682240235f9f"},{"parameters":{"respondWith":"text","responseBody":"={{ $json.html }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1300,-1200],"id":"07e8faca-cbc2-4617-bc78-6ae9d07cbdd0","name":"Respond to Webhook2"},{"parameters":{"content":"## DASHBOARD - PAINEL\nACESSO INICIAL","height":340,"width":720,"color":4},"type":"n8n-nodes-base.stickyNote","position":[820,-1320],"typeVersion":1,"id":"160476f0-c5fa-4a35-8915-a8f16349305d","name":"Sticky Note"},{"parameters":{"content":"## DASHBOARD USUARIOS\nEXIBE DADOS GERAIS Dos USUARIOS","height":340,"width":1320,"color":4},"type":"n8n-nodes-base.stickyNote","position":[820,-600],"typeVersion":1,"id":"60f5e194-aedb-4717-b18b-052082156b8d","name":"Sticky Note8"},{"parameters":{"path":"usuarioszapfinanceiro","responseMode":"responseNode","options":{}},"id":"bd0af180-d440-4b3e-bd35-54330a8496cd","name":"Serve Frontend1","type":"n8n-nodes-base.webhook","typeVersion":1,"position":[860,-480],"webhookPath":"frontend","method":"GET","responseMode":"onReceived","responseData":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>An치lise de Conversas</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n    }\n    .container {\n      max-width: 400px;\n      width: 100%;\n      text-align: center;\n    }\n    textarea {\n      width: 100%;\n      height: 150px;\n      margin-bottom: 10px;\n    }\n    button {\n      background-color: #45DE71;\n      border: none;\n      padding: 10px 15px;\n      color: white;\n      cursor: pointer;\n      border-radius: 5px;\n    }\n    button:disabled {\n      background-color: #ccc;\n    }\n    #result {\n      margin-top: 20px;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>An치lise de Conversas</h1>\n    <textarea id=\"conversation\" placeholder=\"Cole a conversa aqui...\"></textarea>\n    <button id=\"analyzeButton\">Analisar Conversa</button>\n    <div id=\"result\"></div>\n  </div>\n\n  <script>\n    const analyzeButton = document.getElementById('analyzeButton');\n    const conversationInput = document.getElementById('conversation');\n    const resultDiv = document.getElementById('result');\n\n    analyzeButton.addEventListener('click', async () => {\n      const conversation = conversationInput.value.trim();\n      if (!conversation) {\n        alert('Por favor, insira uma conversa para an치lise.');\n        return;\n      }\n\n      analyzeButton.disabled = true;\n      resultDiv.textContent = 'Analisando...';\n\n      try {\n        const response = await fetch('/webhook/process', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ conversation }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Erro ao analisar a conversa.');\n        }\n\n        const result = await response.json();\n        resultDiv.textContent = `Resultado da An치lise:\\n\\n${result.analysis}`;\n      } catch (error) {\n        resultDiv.textContent = 'Erro: N칚o foi poss칤vel analisar a conversa.';\n      } finally {\n        analyzeButton.disabled = false;\n      }\n    });\n  </script>\n</body>\n</html>"},"responseHeaders":[{"name":"Content-Type","value":"text/html"}],"webhookId":"d4bce213-b499-48d3-9e64-c6e8efc3a3cd","disabled":true},{"parameters":{"respondWith":"text","responseBody":"={{ $json.html }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1940,-480],"id":"70876a3f-5bae-474b-a2d0-e8b1e55434f8","name":"Respond to Webhook"},{"parameters":{"documentId":{"__rl":true,"value":"1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI","mode":"list","cachedResultName":"AGENTE IA - GASTOS","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":1208608738,"mode":"list","cachedResultName":"SUPABASE","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit#gid=1208608738"},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[1080,-480],"id":"d50c3e71-b903-422e-b323-01907ee97766","name":"SBjogadores","retryOnFail":true,"waitBetweenTries":2000,"credentials":{"googleSheetsOAuth2Api":{"id":"c1hmUtfYiP5FWVBk","name":"GOOGLE JAMIL"}}},{"parameters":{"assignments":{"assignments":[{"id":"734e5834-f180-4d42-8027-a5664518c505","name":"nome","value":"={{ $json.NOME }}","type":"string"},{"id":"78d7f803-048f-43c6-9b60-996fd057f4db","name":"email","value":"={{ $json.EMAIL }}","type":"string"},{"id":"55e37a3a-9ae1-483d-a48d-e3b871d47dc1","name":"telefone","value":"={{ $json.TELEFONE }}","type":"string"},{"id":"efa82688-b8c0-4ffa-b95c-2aec34614268","name":"data","value":"={{ $json['DATA DA COMPRA'] }}","type":"string"},{"id":"7688426f-e976-4a7a-bfc5-c101c0d0dc42","name":"status","value":"={{ $json.STATUS }}","type":"string"},{"id":"1fb525db-aae4-434a-897d-21e78024288f","name":"cargo","value":"={{ $json.CARGO }}","type":"string"},{"id":"3d1af628-1ba5-4165-b14c-af9534c87b40","name":"origem","value":"={{ $json.ORIGEM }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1300,-480],"id":"f7433d59-ead3-4313-ba63-e41f89b7034f","name":"dados"},{"parameters":{"jsCode":"// Pega todos os registros recebidos\nconst registros = $input.all();\n\n// Inicia o HTML com o tema personalizado\nlet html = `\n<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Lista de Jogadores</title>\n  <style>\n    body {\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n    }\n    h1 {\n      color: #00bcd4;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n    th, td {\n      padding: 10px;\n      border-bottom: 1px solid #2c3e50;\n      text-align: left;\n    }\n    th {\n      background-color: #1e2a38;\n    }\n    tr:hover {\n      background-color: #1a2a40;\n    }\n  </style>\n</head>\n<body>\n  <h1>Todos os Jogadores</h1>\n  <table>\n    <thead>\n      <tr>\n        <th>nome</th>\n        <th>Email</th>\n        <th>Telefone</th>\n        <th>Data</th>\n        <th>status</th>\n        <th>cargo</th>\n        <th>origem</th>\n      </tr>\n    </thead>\n    <tbody>\n`;\n\n// Adiciona cada registro como uma linha na tabela\nregistros.forEach(registro => {\n    const dados = registro.json;\n    html += `\n      <tr>\n        <td>${dados.nome || 'N/A'}</td>\n        <td>${dados.email || 'N/A'}</td>\n        <td>${dados.telefone || 'N/A'}</td>\n        <td>${dados.data || 'N/A'}</td>\n        <td>${dados.status || 'Nenhum'}</td>\n        <td>${dados.cargo || 'N/A'}</td>\n        <td>${dados.origem || 'N/A'}</td>\n      </tr>\n    `;\n});\n\n// Fecha o HTML\nhtml += `\n    </tbody>\n  </table>\n</body>\n</html>\n`;\n\n// Retorna o HTML como um novo item\nreturn [{ json: { html: html } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1540,-480],"id":"54e976a9-ea9f-48a4-b015-0c4a7e2ec8e9","name":"Code"},{"parameters":{"html":"<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Lista de Usuarios</title>\n  <style>\n    body {\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n    }\n    h1 {\n      color: #00bcd4;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n    th, td {\n      padding: 10px;\n      border-bottom: 1px solid #2c3e50;\n      text-align: left;\n    }\n    th {\n      background-color: #1e2a38;\n    }\n    tr:hover {\n      background-color: #1a2a40;\n    }\n    .filtros, .paginacao {\n      margin-top: 20px;\n    }\n    .paginacao button {\n      padding: 6px 12px;\n      margin-right: 10px;\n      background-color: #00bcd4;\n      color: #0f1b2b;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n    .paginacao button:hover {\n      background-color: #00acc1;\n    }\n  </style>\n</head>\n<body>\n\n  <!-- Filtro -->\n  <div class=\"filtros\">\n    <label for=\"filtroEmail\">Filtrar por email:</label>\n    <input type=\"text\" id=\"filtroEmail\" onkeyup=\"filtrarPorEmail()\" placeholder=\"Digite o email...\" style=\"padding:5px;margin-left:10px;color:black;\">\n  </div>\n\n  <!-- Tabela -->\n  <table>\n    <tbody>\n      {{ $json.html }}\n    </tbody>\n  </table>\n\n  <!-- Pagina칞칚o -->\n  <div class=\"paginacao\">\n    <button onclick=\"paginaAnterior()\">Anterior</button>\n    <button onclick=\"proximaPagina()\">Pr칩xima</button>\n    <span id=\"paginacaoInfo\"></span>\n  </div>\n\n  <!-- Scripts -->\n  <script>\n    let paginaAtual = 1;\n    const linhasPorPagina = 50;\n\n    function atualizarTabela() {\n      const linhas = document.querySelectorAll(\"tbody tr\");\n      const termoFiltro = document.getElementById(\"filtroEmail\").value.toLowerCase();\n\n      let linhasFiltradas = [];\n\n      linhas.forEach(linha => {\n        const email = linha.cells[0]?.textContent.toLowerCase() || \"\";\n        if (email.includes(termoFiltro)) {\n          linha.style.display = \"\";\n          linhasFiltradas.push(linha);\n        } else {\n          linha.style.display = \"none\";\n        }\n      });\n\n      const totalPaginas = Math.ceil(linhasFiltradas.length / linhasPorPagina);\n      if (paginaAtual > totalPaginas) paginaAtual = totalPaginas || 1;\n\n      linhasFiltradas.forEach((linha, index) => {\n        if (index >= (paginaAtual - 1) * linhasPorPagina && index < paginaAtual * linhasPorPagina) {\n          linha.style.display = \"\";\n        } else {\n          linha.style.display = \"none\";\n        }\n      });\n\n      document.getElementById(\"paginacaoInfo\").textContent = `P치gina ${paginaAtual} de ${totalPaginas}`;\n    }\n\n    function proximaPagina() {\n      const linhas = document.querySelectorAll(\"tbody tr\");\n      const termoFiltro = document.getElementById(\"filtroEmail\").value.toLowerCase();\n      const totalVisiveis = [...linhas].filter(l => l.cells[0]?.textContent.toLowerCase().includes(termoFiltro));\n      const totalPaginas = Math.ceil(totalVisiveis.length / linhasPorPagina);\n      if (paginaAtual < totalPaginas) {\n        paginaAtual++;\n        atualizarTabela();\n      }\n    }\n\n    function paginaAnterior() {\n      if (paginaAtual > 1) {\n        paginaAtual--;\n        atualizarTabela();\n      }\n    }\n\n    function filtrarPorEmail() {\n      paginaAtual = 1;\n      atualizarTabela();\n    }\n\n    window.addEventListener(\"load\", () => {\n      atualizarTabela();\n    });\n  </script>\n</body>\n</html>\n"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1740,-480],"id":"5625c46c-4afd-42b9-a741-46ce47e6edc6","name":"HTML4"},{"parameters":{"amount":1,"unit":"minutes"},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1960,-840],"id":"4cebde68-9dd8-46c3-91a4-8bfe6c300c13","name":"Wait","webhookId":"55da6fd4-51fe-4bdb-955e-57577fc3a657"},{"parameters":{"content":"## DASHBOARD ADMINISTRADORES\nEXIBE DADOS GERAIS Dos USUARIOS","height":340,"width":1320,"color":4},"type":"n8n-nodes-base.stickyNote","position":[820,-240],"typeVersion":1,"id":"a88f06f1-f66c-4bb1-8fe4-70a0507546b4","name":"Sticky Note9"},{"parameters":{"path":"zapfinanceiroadm","responseMode":"responseNode","options":{}},"id":"77321c83-1c42-483e-9c28-c4f36db700bb","name":"Serve Frontend3","type":"n8n-nodes-base.webhook","typeVersion":1,"position":[860,-120],"webhookPath":"frontend","method":"GET","responseMode":"onReceived","responseData":{"body":"<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>An치lise de Conversas</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      height: 100vh;\n    }\n    .container {\n      max-width: 400px;\n      width: 100%;\n      text-align: center;\n    }\n    textarea {\n      width: 100%;\n      height: 150px;\n      margin-bottom: 10px;\n    }\n    button {\n      background-color: #45DE71;\n      border: none;\n      padding: 10px 15px;\n      color: white;\n      cursor: pointer;\n      border-radius: 5px;\n    }\n    button:disabled {\n      background-color: #ccc;\n    }\n    #result {\n      margin-top: 20px;\n      white-space: pre-wrap;\n      text-align: left;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <h1>An치lise de Conversas</h1>\n    <textarea id=\"conversation\" placeholder=\"Cole a conversa aqui...\"></textarea>\n    <button id=\"analyzeButton\">Analisar Conversa</button>\n    <div id=\"result\"></div>\n  </div>\n\n  <script>\n    const analyzeButton = document.getElementById('analyzeButton');\n    const conversationInput = document.getElementById('conversation');\n    const resultDiv = document.getElementById('result');\n\n    analyzeButton.addEventListener('click', async () => {\n      const conversation = conversationInput.value.trim();\n      if (!conversation) {\n        alert('Por favor, insira uma conversa para an치lise.');\n        return;\n      }\n\n      analyzeButton.disabled = true;\n      resultDiv.textContent = 'Analisando...';\n\n      try {\n        const response = await fetch('/webhook/process', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({ conversation }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Erro ao analisar a conversa.');\n        }\n\n        const result = await response.json();\n        resultDiv.textContent = `Resultado da An치lise:\\n\\n${result.analysis}`;\n      } catch (error) {\n        resultDiv.textContent = 'Erro: N칚o foi poss칤vel analisar a conversa.';\n      } finally {\n        analyzeButton.disabled = false;\n      }\n    });\n  </script>\n</body>\n</html>"},"responseHeaders":[{"name":"Content-Type","value":"text/html"}],"webhookId":"d4bce213-b499-48d3-9e64-c6e8efc3a3cd","disabled":true},{"parameters":{"respondWith":"text","responseBody":"={{ $json.html }}","options":{}},"type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1940,-120],"id":"fde2483d-d568-46c2-8b6a-059dd5719d3a","name":"Respond to Webhook3"},{"parameters":{"documentId":{"__rl":true,"value":"1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI","mode":"list","cachedResultName":"AGENTE IA - GASTOS","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit?usp=drivesdk"},"sheetName":{"__rl":true,"value":1208608738,"mode":"list","cachedResultName":"SUPABASE","cachedResultUrl":"https://docs.google.com/spreadsheets/d/1NGpi4nP2hfBLV5mq9ZvcCSnec4qH_l2Wg-mmONQ3LzI/edit#gid=1208608738"},"filtersUI":{"values":[{"lookupColumn":"CARGO","lookupValue":"ADM"}]},"options":{}},"type":"n8n-nodes-base.googleSheets","typeVersion":4.5,"position":[1080,-120],"id":"ba88f1d8-b232-4c11-959b-ed56bfed7431","name":"SBjogadores1","retryOnFail":true,"waitBetweenTries":2000,"credentials":{"googleSheetsOAuth2Api":{"id":"c1hmUtfYiP5FWVBk","name":"GOOGLE JAMIL"}}},{"parameters":{"assignments":{"assignments":[{"id":"734e5834-f180-4d42-8027-a5664518c505","name":"nome","value":"={{ $json.NOME }}","type":"string"},{"id":"78d7f803-048f-43c6-9b60-996fd057f4db","name":"email","value":"={{ $json.EMAIL }}","type":"string"},{"id":"55e37a3a-9ae1-483d-a48d-e3b871d47dc1","name":"telefone","value":"={{ $json.TELEFONE }}","type":"string"},{"id":"efa82688-b8c0-4ffa-b95c-2aec34614268","name":"data","value":"={{ $json['DATA DA COMPRA'] }}","type":"string"},{"id":"7688426f-e976-4a7a-bfc5-c101c0d0dc42","name":"status","value":"={{ $json.STATUS }}","type":"string"},{"id":"1fb525db-aae4-434a-897d-21e78024288f","name":"cargo","value":"={{ $json.CARGO }}","type":"string"},{"id":"3d1af628-1ba5-4165-b14c-af9534c87b40","name":"origem","value":"={{ $json.ORIGEM }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1300,-120],"id":"8c8cb525-4adf-494d-9ba8-112591aa279c","name":"dados1"},{"parameters":{"jsCode":"// Pega todos os registros recebidos\nconst registros = $input.all();\n\n// Inicia o HTML com o tema personalizado\nlet html = `\n<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Lista de Administradores</title>\n  <style>\n    body {\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n    }\n    h1 {\n      color: #00bcd4;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n    th, td {\n      padding: 10px;\n      border-bottom: 1px solid #2c3e50;\n      text-align: left;\n    }\n    th {\n      background-color: #1e2a38;\n    }\n    tr:hover {\n      background-color: #1a2a40;\n    }\n  </style>\n</head>\n<body>\n  <h1>Todos os Jogadores</h1>\n  <table>\n    <thead>\n      <tr>\n        <th>nome</th>\n        <th>Email</th>\n        <th>Telefone</th>\n        <th>Data</th>\n        <th>status</th>\n        <th>cargo</th>\n        <th>origem</th>\n      </tr>\n    </thead>\n    <tbody>\n`;\n\n// Adiciona cada registro como uma linha na tabela\nregistros.forEach(registro => {\n    const dados = registro.json;\n    html += `\n      <tr>\n        <td>${dados.nome || 'N/A'}</td>\n        <td>${dados.email || 'N/A'}</td>\n        <td>${dados.telefone || 'N/A'}</td>\n        <td>${dados.data || 'N/A'}</td>\n        <td>${dados.status || 'Nenhum'}</td>\n        <td>${dados.cargo || 'N/A'}</td>\n        <td>${dados.origem || 'N/A'}</td>\n      </tr>\n    `;\n});\n\n// Fecha o HTML\nhtml += `\n    </tbody>\n  </table>\n</body>\n</html>\n`;\n\n// Retorna o HTML como um novo item\nreturn [{ json: { html: html } }];"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[1540,-120],"id":"47c592eb-77a9-437b-b4f6-01d876a395eb","name":"Code1"},{"parameters":{"html":"<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Lista de Administradores</title>\n  <style>\n    body {\n      background-color: #0f1b2b;\n      color: #f1f1f1;\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n    }\n    h1 {\n      color: #00bcd4;\n    }\n    table {\n      width: 100%;\n      border-collapse: collapse;\n      margin-top: 20px;\n    }\n    th, td {\n      padding: 10px;\n      border-bottom: 1px solid #2c3e50;\n      text-align: left;\n    }\n    th {\n      background-color: #1e2a38;\n    }\n    tr:hover {\n      background-color: #1a2a40;\n    }\n    .filtros, .paginacao {\n      margin-top: 20px;\n    }\n    .paginacao button {\n      padding: 6px 12px;\n      margin-right: 10px;\n      background-color: #00bcd4;\n      color: #0f1b2b;\n      border: none;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n    .paginacao button:hover {\n      background-color: #00acc1;\n    }\n  </style>\n</head>\n<body>\n\n  <!-- Filtro -->\n  <div class=\"filtros\">\n    <label for=\"filtroEmail\">Filtrar por email:</label>\n    <input type=\"text\" id=\"filtroEmail\" onkeyup=\"filtrarPorEmail()\" placeholder=\"Digite o email...\" style=\"padding:5px;margin-left:10px;color:black;\">\n  </div>\n\n  <!-- Tabela -->\n  <table>\n    <tbody>\n      {{ $json.html }}\n    </tbody>\n  </table>\n\n  <!-- Pagina칞칚o -->\n  <div class=\"paginacao\">\n    <button onclick=\"paginaAnterior()\">Anterior</button>\n    <button onclick=\"proximaPagina()\">Pr칩xima</button>\n    <span id=\"paginacaoInfo\"></span>\n  </div>\n\n  <!-- Scripts -->\n  <script>\n    let paginaAtual = 1;\n    const linhasPorPagina = 50;\n\n    function atualizarTabela() {\n      const linhas = document.querySelectorAll(\"tbody tr\");\n      const termoFiltro = document.getElementById(\"filtroEmail\").value.toLowerCase();\n\n      let linhasFiltradas = [];\n\n      linhas.forEach(linha => {\n        const email = linha.cells[0]?.textContent.toLowerCase() || \"\";\n        if (email.includes(termoFiltro)) {\n          linha.style.display = \"\";\n          linhasFiltradas.push(linha);\n        } else {\n          linha.style.display = \"none\";\n        }\n      });\n\n      const totalPaginas = Math.ceil(linhasFiltradas.length / linhasPorPagina);\n      if (paginaAtual > totalPaginas) paginaAtual = totalPaginas || 1;\n\n      linhasFiltradas.forEach((linha, index) => {\n        if (index >= (paginaAtual - 1) * linhasPorPagina && index < paginaAtual * linhasPorPagina) {\n          linha.style.display = \"\";\n        } else {\n          linha.style.display = \"none\";\n        }\n      });\n\n      document.getElementById(\"paginacaoInfo\").textContent = `P치gina ${paginaAtual} de ${totalPaginas}`;\n    }\n\n    function proximaPagina() {\n      const linhas = document.querySelectorAll(\"tbody tr\");\n      const termoFiltro = document.getElementById(\"filtroEmail\").value.toLowerCase();\n      const totalVisiveis = [...linhas].filter(l => l.cells[0]?.textContent.toLowerCase().includes(termoFiltro));\n      const totalPaginas = Math.ceil(totalVisiveis.length / linhasPorPagina);\n      if (paginaAtual < totalPaginas) {\n        paginaAtual++;\n        atualizarTabela();\n      }\n    }\n\n    function paginaAnterior() {\n      if (paginaAtual > 1) {\n        paginaAtual--;\n        atualizarTabela();\n      }\n    }\n\n    function filtrarPorEmail() {\n      paginaAtual = 1;\n      atualizarTabela();\n    }\n\n    window.addEventListener(\"load\", () => {\n      atualizarTabela();\n    });\n  </script>\n</body>\n</html>\n"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[1740,-120],"id":"f75bc660-405f-4678-b27a-627157f9bea8","name":"HTML5"}],"connections":{"Google Sheets":{"main":[[{"node":"Aggregate","type":"main","index":0}]]},"Aggregate":{"main":[[{"node":"HTML1","type":"main","index":0}]]},"Serve Frontend":{"main":[[{"node":"Google Sheets","type":"main","index":0}]]},"HTML1":{"main":[[{"node":"Respond to Webhook1","type":"main","index":0}]]},"Serve Frontend2":{"main":[[{"node":"HTML","type":"main","index":0}]]},"HTML":{"main":[[{"node":"Respond to Webhook2","type":"main","index":0}]]},"Serve Frontend1":{"main":[[{"node":"SBjogadores","type":"main","index":0}]]},"SBjogadores":{"main":[[{"node":"dados","type":"main","index":0}]]},"dados":{"main":[[{"node":"Code","type":"main","index":0}]]},"Code":{"main":[[{"node":"HTML4","type":"main","index":0}]]},"HTML4":{"main":[[{"node":"Respond to Webhook","type":"main","index":0}]]},"Respond to Webhook1":{"main":[[{"node":"Wait","type":"main","index":0}]]},"Wait":{"main":[[{"node":"Google Sheets","type":"main","index":0}]]},"Serve Frontend3":{"main":[[{"node":"SBjogadores1","type":"main","index":0}]]},"SBjogadores1":{"main":[[{"node":"dados1","type":"main","index":0}]]},"dados1":{"main":[[{"node":"Code1","type":"main","index":0}]]},"Code1":{"main":[[{"node":"HTML5","type":"main","index":0}]]},"HTML5":{"main":[[{"node":"Respond to Webhook3","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{"node:Schedule Trigger":{"recurrenceRules":[]}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"eb5181b2-4fc5-45e3-8b12-f1ad43477364","triggerCount":2,"tags":[]}